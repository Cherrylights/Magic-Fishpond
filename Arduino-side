#include <Servo.h>

Servo myservo;
int pos = 0;
char val;
int ledPin = 2;
int brightness = 0;
int fadeAmount = 5;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(11, OUTPUT);
  Serial.begin(9600);
  myservo.attach(9);
}

void loop() {
  analogWrite(11, brightness);    
  brightness = brightness + fadeAmount;
  if (brightness == 0 || brightness == 255) {
    fadeAmount = -fadeAmount ; 
  }       
  delay(30);  

  if(Serial.available()) {
    val = Serial.read();
  }

  if(val == '1') {
    digitalWrite(ledPin, HIGH);
    if(pos < 120) { 
      pos += 1;
    }
    myservo.write(pos);
  }
  if(val == '0') {
    digitalWrite(ledPin, LOW);
    if(pos >= 10) {
      pos-=1;
    }
    myservo.write(pos);
  }
}


